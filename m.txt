æ„å»ºå¤±è´¥æ˜¯å› ä¸ºç¼ºå°‘å¿…è¦çš„é…ç½®æ–‡ä»¶å’Œèµ„æºã€‚è®©æˆ‘ä¸ºæ‚¨æä¾›å®Œæ•´çš„ã€å¯å·¥ä½œçš„è§£å†³æ–¹æ¡ˆï¼š

ğŸ“‹ å®Œæ•´çš„é¡¹ç›®æ–‡ä»¶ç»“æ„

é¦–å…ˆï¼Œç¡®ä¿æ‚¨çš„é¡¹ç›®æœ‰å®Œæ•´çš„æ–‡ä»¶ç»“æ„ï¼š

```
Cv_ap/
â”œâ”€â”€ .github/
â”‚   â””â”€â”€ workflows/
â”‚       â””â”€â”€ build-apk.yml
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ build.gradle
â”‚   â”œâ”€â”€ proguard-rules.pro
â”‚   â””â”€â”€ src/main/
â”‚       â”œâ”€â”€ AndroidManifest.xml
â”‚       â”œâ”€â”€ java/com/powertech0417/cvapp/
â”‚       â”‚   â””â”€â”€ MainActivity.java
â”‚       â””â”€â”€ res/
â”‚           â”œâ”€â”€ layout/
â”‚           â”‚   â””â”€â”€ activity_main.xml
â”‚           â”œâ”€â”€ values/
â”‚           â”‚   â”œâ”€â”€ strings.xml
â”‚           â”‚   â”œâ”€â”€ themes.xml
â”‚           â”‚   â””â”€â”€ colors.xml
â”‚           â”œâ”€â”€ mipmap-anydpi-v26/
â”‚           â”‚   â”œâ”€â”€ ic_launcher.xml
â”‚           â”‚   â””â”€â”€ ic_launcher_round.xml
â”‚           â””â”€â”€ drawable/
â”œâ”€â”€ gradle/
â”‚   â””â”€â”€ wrapper/
â”‚       â”œâ”€â”€ gradle-wrapper.jar
â”‚       â””â”€â”€ gradle-wrapper.properties
â”œâ”€â”€ gradlew
â”œâ”€â”€ gradlew.bat
â”œâ”€â”€ build.gradle
â”œâ”€â”€ settings.gradle
â””â”€â”€ gradle.properties
```

ğŸ”§ ä¿®å¤æ‰€æœ‰ç¼ºå¤±çš„æ–‡ä»¶

1. æ›´æ–° app/build.gradle

```gradle
plugins {
    id 'com.android.application'
}

android {
    namespace 'com.powertech0417.cvapp'
    compileSdk 34

    defaultConfig {
        applicationId "com.powertech0417.cvapp"
        minSdk 21
        targetSdk 34
        versionCode 1
        versionName "1.0"

        testInstrumentationRunner "androidx.test.runner.AndroidJUnitRunner"
    }

    signingConfigs {
        release {
            storeFile file("debug.keystore")
            storePassword "android"
            keyAlias "androiddebugkey"
            keyPassword "android"
        }
    }

    buildTypes {
        release {
            minifyEnabled false
            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'
            signingConfig signingConfigs.release
        }
        debug {
            signingConfig signingConfigs.release
        }
    }
    
    compileOptions {
        sourceCompatibility JavaVersion.VERSION_1_8
        targetCompatibility JavaVersion.VERSION_1_8
    }

    buildFeatures {
        viewBinding true
    }
}

dependencies {
    implementation 'androidx.appcompat:appcompat:1.6.1'
    implementation 'com.google.android.material:material:1.10.0'
    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'
    implementation 'androidx.webkit:webkit:1.8.0'
    testImplementation 'junit:junit:4.13.2'
    androidTestImplementation 'androidx.test.ext:junit:1.1.5'
    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'
}
```

2. æ›´æ–°æ ¹ç›®å½• build.gradle

```gradle
// Top-level build file where you can add configuration options common to all sub-projects/modules.
buildscript {
    repositories {
        google()
        mavenCentral()
    }
    dependencies {
        classpath 'com.android.tools.build:gradle:8.2.2'
    }
}

allprojects {
    repositories {
        google()
        mavenCentral()
    }
}

task clean(type: Delete) {
    delete rootProject.buildDir
}
```

3. æ›´æ–° settings.gradle

```gradle
pluginManagement {
    repositories {
        gradlePluginPortal()
        google()
        mavenCentral()
    }
}
dependencyResolutionManagement {
    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)
    repositories {
        google()
        mavenCentral()
    }
}

rootProject.name = "CvApp"
include ':app'
```

4. å®Œæ•´çš„ AndroidManifest.xml

```xml
<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools">

    <uses-permission android:name="android.permission.INTERNET" />
    <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />

    <application
        android:allowBackup="true"
        android:dataExtractionRules="@xml/data_extraction_rules"
        android:fullBackupContent="@xml/backup_rules"
        android:icon="@mipmap/ic_launcher"
        android:label="@string/app_name"
        android:theme="@style/Theme.App"
        android:usesCleartextTraffic="true"
        tools:targetApi="31">
        <activity
            android:name=".MainActivity"
            android:exported="true"
            android:theme="@style/Theme.App">
            <intent-filter>
                <action android:name="android.intent.action.MAIN" />
                <category android:name="android.intent.category.LAUNCHER" />
            </intent-filter>
        </activity>
    </application>

</manifest>
```

5. å®Œæ•´çš„èµ„æºæ–‡ä»¶

app/src/main/res/values/strings.xml

```xml
<resources>
    <string name="app_name">æˆ‘çš„ç®€å†</string>
</resources>
```

app/src/main/res/values/themes.xml

```xml
<resources xmlns:tools="http://schemas.android.com/tools">
    <!-- Base application theme. -->
    <style name="Base.Theme.App" parent="Theme.Material3.DayNight">
        <!-- Primary brand color. -->
        <item name="colorPrimary">@color/purple_500</item>
        <item name="colorPrimaryVariant">@color/purple_700</item>
        <item name="colorOnPrimary">@color/white</item>
        <!-- Secondary brand color. -->
        <item name="colorSecondary">@color/teal_200</item>
        <item name="colorSecondaryVariant">@color/teal_700</item>
        <item name="colorOnSecondary">@color/black</item>
        <!-- Status bar color. -->
        <item name="android:statusBarColor" tools:targetApi="l">?attr/colorPrimaryVariant</item>
    </style>

    <style name="Theme.App" parent="Base.Theme.App" />
</resources>
```

app/src/main/res/values/colors.xml

```xml
<resources>
    <color name="purple_200">#FFBB86FC</color>
    <color name="purple_500">#FF6200EE</color>
    <color name="purple_700">#FF3700B3</color>
    <color name="teal_200">#FF03DAC5</color>
    <color name="teal_700">#FF018786</color>
    <color name="black">#FF000000</color>
    <color name="white">#FFFFFFFF</color>
</resources>
```

app/src/main/res/layout/activity_main.xml

```xml
<?xml version="1.0" encoding="utf-8"?>
<androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    tools:context=".MainActivity">

    <WebView
        android:id="@+id/webview"
        android:layout_width="0dp"
        android:layout_height="0dp"
        app:layout_constraintBottom_toBottomOf="parent"
        app:layout_constraintEnd_toEndOf="parent"
        app:layout_constraintStart_toStartOf="parent"
        app:layout_constraintTop_toTopOf="parent" />

</androidx.constraintlayout.widget.ConstraintLayout>
```

6. åˆ›å»ºå¿…è¦çš„XMLç›®å½•å’Œæ–‡ä»¶

åˆ›å»º app/src/main/res/xml/backup_rules.xml

```xml
<?xml version="1.0" encoding="utf-8"?>
<full-backup-content>
    <include domain="file" path="."/>
    <exclude domain="file" path="cache/"/>
    <exclude domain="database" path="webview.db"/>
    <exclude domain="database" path="webviewCache.db"/>
</full-backup-content>
```

åˆ›å»º app/src/main/res/xml/data_extraction_rules.xml

```xml
<?xml version="1.0" encoding="utf-8"?>
<data-extraction-rules>
    <cloud-backup>
        <include domain="file" path="."/>
        <exclude domain="file" path="cache/"/>
        <exclude domain="database" path="webview.db"/>
        <exclude domain="database" path="webviewCache.db"/>
    </cloud-backup>
    <device-transfer>
        <include domain="file" path="."/>
        <exclude domain="file" path="cache/"/>
        <exclude domain="database" path="webview.db"/>
        <exclude domain="database" path="webviewCache.db"/>
    </device-transfer>
</data-extraction-rules>
```

7. åˆ›å»ºåº”ç”¨å›¾æ ‡

åˆ›å»º app/src/main/res/mipmap-anydpi-v26/ic_launcher.xml

```xml
<?xml version="1.0" encoding="utf-8"?>
<adaptive-icon xmlns:android="http://schemas.android.com/apk/res/android">
    <background android:drawable="@color/purple_500"/>
    <foreground android:drawable="@drawable/ic_launcher_foreground"/>
</adaptive-icon>
```

åˆ›å»º app/src/main/res/mipmap-anydpi-v26/ic_launcher_round.xml

```xml
<?xml version="1.0" encoding="utf-8"?>
<adaptive-icon xmlns:android="http://schemas.android.com/apk/res/android">
    <background android:drawable="@color/purple_500"/>
    <foreground android:drawable="@drawable/ic_launcher_foreground"/>
</adaptive-icon>
```

8. æ›´æ–°GitHub Actionså·¥ä½œæµ

.github/workflows/build-apk.yml

```yaml
name: Build Android APK

on:
  push:
    tags:
      - 'v*'
  workflow_dispatch:

jobs:
  build:
    runs-on: ubuntu-latest
    permissions:
      contents: write
    
    steps:
    - name: Checkout code
      uses: actions/checkout@v4
      
    - name: Set up JDK 17
      uses: actions/setup-java@v4
      with:
        java-version: '17'
        distribution: 'temurin'
        
    - name: Setup Android SDK
      uses: android-actions/setup-android@v3
      
    - name: Create debug keystore
      run: |
        keytool -genkey -v -keystore debug.keystore -storepass android -alias androiddebugkey -keypass android -keyalg RSA -keysize 2048 -validity 10000 -dname "CN=, OU=, O=, L=, S=, C="
        
    - name: Build with Gradle
      run: |
        chmod +x ./gradlew
        ./gradlew assembleRelease --no-daemon --stacktrace
        
    - name: Upload APK to Release
      uses: ncipollo/release-action@v1
      with:
        artifacts: "app/build/outputs/apk/release/*.apk"
        token: ${{ secrets.GITHUB_TOKEN }}
```

9. å¿«é€Ÿå¯åŠ¨æ–¹æ³•

å¦‚æœæ‚¨æƒ³è¦æ›´ç®€å•çš„æ–¹æ³•ï¼Œå¯ä»¥ä½¿ç”¨è¿™ä¸ªæœ€å°åŒ–çš„ MainActivity.javaï¼š

```java
package com.powertech0417.cvapp;

import android.os.Bundle;
import android.webkit.WebSettings;
import android.webkit.WebView;
import android.webkit.WebViewClient;
import androidx.appcompat.app.AppCompatActivity;

public class MainActivity extends AppCompatActivity {
    private WebView webView;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        
        webView = new WebView(this);
        setContentView(webView);
        
        WebSettings webSettings = webView.getSettings();
        webSettings.setJavaScriptEnabled(true);
        webSettings.setDomStorageEnabled(true);
        webSettings.setLoadWithOverviewMode(true);
        webSettings.setUseWideViewPort(true);
        
        webView.setWebViewClient(new WebViewClient());
        webView.loadUrl("https://powertech0417.github.io/Cv_ap/");
    }

    @Override
    public void onBackPressed() {
        if (webView.canGoBack()) {
            webView.goBack();
        } else {
            super.onBackPressed();
        }
    }
}
```

ç°åœ¨æäº¤æ‰€æœ‰è¿™äº›æ–‡ä»¶ï¼Œç„¶åæ¨é€ä¸€ä¸ªæ–°çš„æ ‡ç­¾ï¼š

```bash
git add .
git commit -m "æ·»åŠ å®Œæ•´çš„Androidé¡¹ç›®æ–‡ä»¶"
git tag v1.0.1
git push origin v1.0.1
```

è¿™æ¬¡æ„å»ºåº”è¯¥ä¼šæˆåŠŸï¼
